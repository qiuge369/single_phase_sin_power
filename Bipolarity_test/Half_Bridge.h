/*
 * Half_Bridge.h
 *
 *  Created on: 2018年5月24日
 *      Author: 12558
 */

#ifndef HALF_BRIDGE_H_
#define HALF_BRIDGE_H_


void SPWM_Initial()
{
    P5DIR |= BIT2;
    P5OUT &= ~BIT2;
    P5REN &= ~BIT2;   //P9.1-P6.4


    P5DIR |= BIT3;
    P5OUT &= ~BIT3;
    P5REN &= ~BIT3;   //P9.1-P6.4

//    P5DIR |= BIT5;
//    P5OUT &= ~BIT5;
//    P5REN &= ~BIT5;   //P9.1-P6.4
//
//    P5DIR |= BIT4;
//    P5OUT &= ~BIT4;
//    P5REN &= ~BIT4;   //P9.4-P6.4

    //TA1用来输出两路反向带死区的PWM波//
    TA1CCR0 = 1250;
    TA1CCR1 = 0x7F;
    TA1CTL = TASSEL_2 + MC_1 + TACLR;         // SMCLK, up mode, clear TAR
    TA1CCTL0 = CCIE;
    TA1CCTL1 = CCIE;
}
unsigned int sin[] = { 0x7F,0x82,0x85,0x88,0x8B,0x8F,0x92,0x95,0x98,0x9B,0x9E,0xA1,0xA4,0xA7,0xAA,0xAD
                       ,0xB0,0xB3,0xB6,0xB8,0xBB,0xBE,0xC1,0xC3,0xC6,0xC8,0xCB,0xCD,0xD0,0xD2,0xD5,0xD7
                       ,0xD9,0xDB,0xDD,0xE0,0xE2,0xE4,0xE5,0xE7,0xE9,0xEB,0xEC,0xEE,0xEF,0xF1,0xF2,0xF4
                       ,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFB,0xFC,0xFD,0xFD,0xFE,0xFE,0xFE,0xFE,0xFE
                       ,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFD,0xFD,0xFC,0xFB,0xFB,0xFA,0xF9,0xF8,0xF7,0xF6
                       ,0xF5,0xF4,0xF2,0xF1,0xEF,0xEE,0xEC,0xEB,0xE9,0xE7,0xE5,0xE4,0xE2,0xE0,0xDD,0xDB
                       ,0xD9,0xD7,0xD5,0xD2,0xD0,0xCD,0xCB,0xC8,0xC6,0xC3,0xC1,0xBE,0xBB,0xB8,0xB6,0xB3
                       ,0xB0,0xAD,0xAA,0xA7,0xA4,0xA1,0x9E,0x9B,0x98,0x95,0x92,0x8F,0x8B,0x88,0x85,0x82
                       ,0x7F,0x7C,0x79,0x76,0x73,0x6F,0x6C,0x69,0x66,0x63,0x60,0x5D,0x5A,0x57,0x54,0x51
                       ,0x4E,0x4B,0x48,0x46,0x43,0x40,0x3D,0x3B,0x38,0x36,0x33,0x31,0x2E,0x2C,0x29,0x27
                       ,0x25,0x23,0x21,0x1E,0x1C,0x1A,0x19,0x17,0x15,0x13,0x12,0x10,0x0F,0x0D,0x0C,0x0A
                       ,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x03,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00
                       ,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x03,0x03,0x04,0x05,0x06,0x07,0x08
                       ,0x09,0x0A,0x0C,0x0D,0x0F,0x10,0x12,0x13,0x15,0x17,0x19,0x1A,0x1C,0x1E,0x21,0x23
                       ,0x25,0x27,0x29,0x2C,0x2E,0x31,0x33,0x36,0x38,0x3B,0x3D,0x40,0x43,0x46,0x48,0x4B
                       ,0x4E,0x51,0x54,0x57,0x5A,0x5D,0x60,0x63,0x66,0x69,0x6C,0x6F,0x73,0x76,0x79,0x7C};

//unsigned int sin[] = { 0x3FF,0x418,0x431,0x44A,0x463,0x47C,0x495,0x4AE,0x4C7,0x4DF,0x4F8,0x510,0x528,0x540,0x558,0x56F
//                        ,0x587,0x59E,0x5B5,0x5CB,0x5E1,0x5F7,0x60D,0x623,0x638,0x64C,0x661,0x675,0x688,0x69C,0x6AE,0x6C1
//                        ,0x6D3,0x6E4,0x6F5,0x706,0x716,0x726,0x735,0x744,0x752,0x760,0x76D,0x77A,0x786,0x791,0x79C,0x7A7
//                        ,0x7B1,0x7BA,0x7C3,0x7CB,0x7D2,0x7D9,0x7E0,0x7E6,0x7EB,0x7EF,0x7F3,0x7F7,0x7FA,0x7FC,0x7FD,0x7FE
//                        ,0x7FE,0x7FE,0x7FD,0x7FC,0x7FA,0x7F7,0x7F3,0x7EF,0x7EB,0x7E6,0x7E0,0x7D9,0x7D2,0x7CB,0x7C3,0x7BA
//                        ,0x7B1,0x7A7,0x79C,0x791,0x786,0x77A,0x76D,0x760,0x752,0x744,0x735,0x726,0x716,0x706,0x6F5,0x6E4
//                        ,0x6D3,0x6C1,0x6AE,0x69C,0x688,0x675,0x661,0x64C,0x638,0x623,0x60D,0x5F7,0x5E1,0x5CB,0x5B5,0x59E
//                        ,0x587,0x56F,0x558,0x540,0x528,0x510,0x4F8,0x4DF,0x4C7,0x4AE,0x495,0x47C,0x463,0x44A,0x431,0x418
//                        ,0x3FF,0x3E6,0x3CD,0x3B4,0x39B,0x382,0x369,0x350,0x337,0x31F,0x306,0x2EE,0x2D6,0x2BE,0x2A6,0x28F
//                        ,0x277,0x260,0x249,0x233,0x21D,0x207,0x1F1,0x1DB,0x1C6,0x1B2,0x19D,0x189,0x176,0x162,0x150,0x13D
//                        ,0x12B,0x11A,0x109,0x0F8,0x0E8,0x0D8,0x0C9,0x0BA,0x0AC,0x09E,0x091,0x084,0x078,0x06D,0x062,0x057
//                        ,0x04D,0x044,0x03B,0x033,0x02C,0x025,0x01E,0x018,0x013,0x00F,0x00B,0x007,0x004,0x002,0x001,0x000
//                        ,0x000,0x000,0x001,0x002,0x004,0x007,0x00B,0x00F,0x013,0x018,0x01E,0x025,0x02C,0x033,0x03B,0x044
//                        ,0x04D,0x057,0x062,0x06D,0x078,0x084,0x091,0x09E,0x0AC,0x0BA,0x0C9,0x0D8,0x0E8,0x0F8,0x109,0x11A
//                        ,0x12B,0x13D,0x150,0x162,0x176,0x189,0x19D,0x1B2,0x1C6,0x1DB,0x1F1,0x207,0x21D,0x233,0x249,0x260
//                        ,0x277,0x28F,0x2A6,0x2BE,0x2D6,0x2EE,0x306,0x31F,0x337,0x350,0x369,0x382,0x39B,0x3B4,0x3CD,0x3E6};

unsigned char tri[] = {0, 2 ,4 ,6 ,8,10, 12 ,14 ,16 ,18,20, 22 ,24 ,26 ,28,30,
                       32 ,34 ,36 ,38,40, 42 ,44 ,46 ,48,50, 52 ,54 ,56 ,58,60,
                       62 ,64 ,66 ,68,70, 72 ,74 ,76 ,78,80, 82 ,84 ,86 ,88,90,
                       92 ,94 ,96 ,98,100, 102 ,104 ,106 ,108,110, 112 ,114 ,116 ,118,120,
                       122 ,124 ,126 ,128,130, 132 ,134 ,136 ,138,140, 142 ,144 ,146 ,148,150,
                       152 ,154 ,156 ,158,160, 162 ,164 ,166 ,168,170, 172 ,174 ,176 ,178,180,
                       182 ,184 ,186 ,188,190, 192 ,194 ,196 ,198,200, 202 ,204 ,206 ,208,210,
                       212 ,214 ,216 ,218,220, 222 ,224 ,226 ,228,230, 232 ,234 ,236 ,238,240,
                       242 ,244 ,246 ,248,250, 252 ,252, 250 ,248,246 ,244, 242, 240 ,238 ,236,234,
                       232, 230 ,228 ,226 ,224,222, 220 ,218 ,216 ,214,212, 210 ,208 ,206 ,204,202,
                       200 ,198 ,196 ,194,192, 190 ,188 ,186 ,184,182, 180 ,178 ,176 ,174,172, 170 ,
                       168 ,166 ,164,162, 160 ,158 ,156 ,154,152, 150 ,148 ,146 ,144,142, 140 ,138 ,
                       136 ,134,132, 130 ,128 ,126 ,124,122, 120 ,118 ,116 ,114,112, 110 ,108 ,106 ,
                       104,102, 100 ,98 ,96 ,94,92, 90 ,88 ,86 ,84,82, 80 ,78 ,76 ,74,72, 70 ,68 ,66 ,
                       64,62, 60 ,58 ,56 ,54,52, 50 ,48 ,46 ,44,42, 40 ,38 ,36 ,34,32, 30 ,28 ,26 ,24,
                       22, 20 ,18 ,16 ,14,12, 10 ,8 ,6 ,4,2, 0};


#endif /* HALF_BRIDGE_H_ */
